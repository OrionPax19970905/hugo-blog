<!DOCTYPE html>
<html lang="zh-cn" >
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  
  <meta name="author"
        content="OrionPax"/>

  
  <meta name="description" content="What 定义 一个开源的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。 Git 的三种对象 commit 提交对象是用来保存提交的作者、"/>
  

  
  
  <meta name="keywords" content="OrionPax, Java 开发, Hugo, zozo"/>
  

  
  <link rel="canonical" href="http://blog.orionpax.top/posts/git/"/>

  

  <title>Git 学习笔记 &middot; OrionPax 的个人博客</title>

  <link rel="shortcut icon" href="http://blog.orionpax.top/images/favicon.ico"/>
  <link rel="stylesheet" href="http://blog.orionpax.top/css/animate.min.css"/>
  <link rel="stylesheet" href="http://blog.orionpax.top/css/remixicon.css"/>
  <link rel="stylesheet" href="http://blog.orionpax.top/css/zozo.css"/>
  <link rel="stylesheet" href="http://blog.orionpax.top/css/highlight.css"/>

  
  
</head>

<body>
<div class="main animated">
  <div class="nav_container animated fadeInDown">
  <div class="site_nav" id="site_nav">
    <ul>
      
      <li>
        <a href="/">首页</a>
      </li>
      
      <li>
        <a href="/posts/">归档</a>
      </li>
      
      <li>
        <a href="/tags/">标签</a>
      </li>
      
      <li>
        <a href="/skills.png">技能树</a>
      </li>
      
      <li>
        <a href="/tools.png">工具栈</a>
      </li>
      
    </ul>
  </div>
  <div class="menu_icon">
    <a id="menu_icon"><i class="remixicon-links-line"></i></a>
  </div>
</div>

  <div class="header animated fadeInDown">
  <div class="site_title_container">
    <div class="site_title">
      <h1>
        <a href="http://blog.orionpax.top">
          <span>OrionPax 的个人博客</span>
          <img src="http://blog.orionpax.top/images/logo.svg"/>
        </a>
      </h1>
    </div>
    <div class="description">
      <p class="sub_title"></p>
      <div class="my_socials">
        
        
        <a href="https://github.com/OrionPax19970905" title="github" target="_blank"><i class="remixicon-github-fill"></i></a>
        
        
        
        <a href="OrionPax19970905@gmail.com" title="gmail" target="_blank"><i class="remixicon-gmail-fill"></i></a>
        
        
        <a href="http://blog.orionpax.top/index.xml" type="application/rss+xml" title="rss" target="_blank"><i class="remixicon-rss-fill"></i></a>
      </div>
    </div>
  </div>
</div>

  <div class="content">
    <div class="post_page">
      <div class="post animated fadeInDown">
        <div class="post_title post_detail_title">
          <h2><a href='/posts/git/'>Git 学习笔记</a></h2>
          <span class="date">2019.08.29</span>
        </div>
        <div class="post_content markdown">

<h2 id="what">What</h2>

<h3 id="定义">定义</h3>

<p>一个开源的分布式版本控制系统，可以有效、高速的处理从很小到非常大的项目版本管理。Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p>

<h3 id="git-的三种对象">Git 的三种对象</h3>

<h4 id="commit">commit</h4>

<p>提交对象是用来保存提交的作者、时间、说明这些信息的</p>

<h4 id="tree">tree</h4>

<p>树对象是文件目录树，记录了文件获取目录的名称、类型、模式信息。</p>

<h4 id="blob">blob</h4>

<p>数据对象是文件的内容，不包括文件名、权限等信息。Git 会根据文件内容计算出一个 hash 值，以 hash 值作为文件索引存储在 Git 文件系统中。由于相同的文件内容的 hash 值是一样的，因此 Git 将同样内容的文件只会存储一次。</p>

<h3 id="工作区-暂存区-版本库">工作区、暂存区、版本库</h3>

<p><img src="https://image-static.segmentfault.com/171/646/1716463609-5bf0fbfc7c3aa_articlex" alt="img1" />
- 工作区：用来编辑保存项目文件的地方，也是用户能直接操作到的地方。
- 暂存区：保存了下次将提交的文件列表信息，一般在 Git 仓库目录中，是一个叫 index 的文件，通常多数说法还是叫暂存区域。
- 版本库：也叫本地版本库，之所以说 git 快，是因为它是分布式版本控制系统，大部分提交都是对本地仓库而言的，不依赖网络，最后一次会推送的到远程仓库。</p>

<p>总结 git 基本的工作流程如下：</p>

<ol>
<li>在工作目录中修改(此处修改包含了创建和删除)文件；</li>
<li>暂存文件，将文件 add 放入暂存区域；</li>
<li>提交更新，找到暂存区域的文件，将暂存区的文件 commit 到版本库；</li>
<li>如果工作区的文件改乱了（包括了误删、误改），想回到上一版本，就可以使用 git checkout 命令将版本库中的文件检出到工作区将本次更改 discard(覆盖)掉。</li>
</ol>

<h2 id="why">Why</h2>

<h3 id="解决的问题">解决的问题</h3>

<p>项目的版本控制问题</p>

<h3 id="没有此技术之前怎么做">没有此技术之前怎么做</h3>

<p>文件复制，人工版本号</p>

<h2 id="where">Where</h2>

<p>所有需要用到版本控制的项目</p>

<h2 id="how">How</h2>

<h3 id="初始化配置">初始化配置</h3>

<pre><code>//最小配置信息
git config --global user.name 'your_name'
git config --global user.email 'your_email'

//config的三个作用域
//当前仓库有效
git config --local
//当前用户所有仓库有效
git config --global
//当前系统所有用户的所有仓库有效
git config --system

//显示config配置
git config --list [作用域]
</code></pre>

<h3 id="本地仓库管理">本地仓库管理</h3>

<pre><code>//已有项目加入Git管理
cd &lt;项目目录&gt;
git init

//新增项目并使用Git管理
git init &lt;your_project&gt;

//检查修改内容
git status

//将文件加入Git版本控制(工作目录 -&gt; 暂存区)
git add [文件名] [-u : 管理全部修改]

//提交暂存区更新内容(暂存区 -&gt; 版本库)
git commit -m '提交原因'
</code></pre>

<h3 id="远程仓库管理">远程仓库管理</h3>

<pre><code>// 密钥位置 C:\Users\ibm\.ssh\*
// 默认公钥文件名称 id_rsa.pub (需在github添加公钥)
// 创建ssh-keygen(公私钥对)
ssh-keygen -C 'your_email'

// 将本地仓库和远程仓库关联
git remote add origin &lt;*.git&gt;

// 使用本地引用更新远程引用，同时发送完成给定引用所需的对象
git push [远程主机名: 通常origin] [-u : 指定默认主机(以后origin可省)]

// 将远程存储库中的更改合并到当前分支中
git pull [远程主机名] [远程分支名]

// 建立追踪关系(如果当前分支与远程分支存在追踪关系，git pull就可以省略远程分支名)
// 如果当前分支只有一个追踪分支，连远程主机名都可以省略。
git branch --set-upstream [本地分支名] origin/[远程分支名]
</code></pre>

<h3 id="分支管理">分支管理</h3>

<pre><code>// 拉去远程分支信息
git fetch

// 创建分支
git branch &lt;branchName&gt;

// 使用远程分支创建本地对应分支
git checkout -b &lt;branchName&gt; origin/&lt;originBranchName&gt;

// 切换分支
git switch &lt;branchName&gt;

// 创建并切换分支
git switch -c &lt;branchName&gt;

// 查看分支
git branch

// 合并指定分支到当前分支
git merge &lt;branchName&gt;

// 删除分支
git branch -d &lt;branchName&gt;
</code></pre>

<h3 id="查看-commit-历史">查看 commit 历史</h3>

<pre><code>git log [--oneline : 单行简洁] [--all : 查看所有分支] [-n&lt;number&gt; : 查看最近number次提交] [--graph : 分支演化]

//打开可视化 git log 查看器
gitk

//常用git log 命令 设置别名
//查看自己的提交(简洁描述)
git config --global alias.lm  &quot;log --no-merges --color --date=format:'%Y-%m-%d %H:%M:%S' --author='your_name' --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Cblue %s %Cgreen(%cd) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;

//查看自己的提交(展示修改的文件概览)
git config --global alias.lms  &quot;log --no-merges --color --stat --date=format:'%Y-%m-%d %H:%M:%S' --author='your_name' --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Cblue %s %Cgreen(%cd) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;

//查看提交(简洁描述)
//git config --global alias.ls &quot;log --no-merges --color --graph --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Cblue %s %Cgreen(%cd) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;

//查看提交(展示修改的文件概览)
git config --global alias.lss &quot;log --no-merges --color --stat --graph --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Cblue %s %Cgreen(%cd) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;
</code></pre>

<h3 id="比较文件差异">比较文件差异</h3>

<pre><code>// 工作区和暂存区
git diff [filename : 指定文件]

// 暂存区和 GIT 仓库
git diff --cached [commit : 指定GIT仓库的提交版本] [filename : 指定文件]

// 工作目录和 GIT 仓库
git diff [commit : 指定GIT仓库的提交版本] [filename : 指定文件]

// Commit 和 Commit
git diff &lt;commit_id&gt; &lt;commit_id&gt;

// 以上命令可以不指定 &lt;filename&gt;，则对全部文件操作。commit 可以设置为HEAD指针。
</code></pre>

<h3 id="丢弃暂存区修改">丢弃暂存区修改</h3>

<pre><code>git reset HEAD
</code></pre>

<h3 id="丢弃工作区修改">丢弃工作区修改</h3>

<pre><code>// 省略commit，则会用暂存区的文件覆盖工作区中的文件
git checkout [commit : 指定提交版本覆盖暂存区和工作区的内容] -- [files : 指定需要覆盖的文件]
</code></pre>

<h3 id="丢弃未提交的-commit">丢弃未提交的 commit</h3>

<pre><code>// 找到要将 HEAD 指针移动到的 commit 的 Id
git reset --hard &lt;commit_id&gt;
</code></pre>

<h3 id="暂存工作区修改去干其它重要的事情">暂存工作区修改去干其它重要的事情</h3>

<pre><code>// 该命令保存本地修改，并恢复工作目录以匹配HEAD提交
git stash

// 查看已有存储
git stash list

// 查看存储stash的文件变化
git stash show

// 取回存储
git stash pop [stash_name]
</code></pre>

<h3 id="忽略已被-git-管理的文件">忽略已被 git 管理的文件</h3>

<pre><code>// 从git管理中删除指定文件
git rm --cached &lt;文件&gt;
// 更新 .gitignore 后提交
</code></pre>

<h3 id="配置相关">配置相关</h3>

<h4 id="修改-http-传输请求数据时最大的缓存字节数">修改 HTTP 传输请求数据时最大的缓存字节数</h4>

<pre><code>git config --global http.postBuffer 524288000
</code></pre>

<h4 id="远程-https-验证时记住密码">远程 HTTPS 验证时记住密码</h4>

<pre><code>git config --global credential.helper store
</code></pre>

<h4 id="配置全局-git-编码">配置全局 git 编码</h4>

<pre><code>// 解决中文乱码情况
git config --global gui.encoding utf-8
</code></pre>

<h4 id="使用代理提高-git-速度">使用代理提高 git 速度</h4>

<pre><code>git config --global http.proxy http://127.0.0.1:1080
git config --global https.proxy http://127.0.0.1:1080
</code></pre>

<h3 id="其它命令-基本没有应用场景">其它命令(基本没有应用场景)</h3>

<pre><code>//git对象查看
git cat-file [-t : 查看类型] [-p : 查看内容] &lt;git对象hash&gt;
</code></pre>

<h3 id="多人协作工作流程">多人协作工作流程</h3>

<ol>
<li>首先，可以试图用<code>git push origin &lt;branch-name&gt;</code>推送自己的修改；</li>
<li>如果推送失败，则因为远程分支比你的本地更新，需要先用<code>git pull</code>试图合并；</li>
<li>如果合并有冲突，则解决冲突，并在本地提交；</li>
<li>没有冲突或者解决掉冲突后，再用<code>git push origin &lt;branch-name&gt;</code>推送就能成功！</li>
</ol>

<ul>
<li>查看远程库信息，使用 <code>git remote -v</code>；</li>
<li>本地新建的分支如果不推送到远程，对其他人就是不可见的；</li>
<li>在本地创建和远程分支对应的分支，使用<code>git checkout -b branch-name origin/branch-name</code>，本地和远程分支的名称最好一致；</li>
<li>如果 git pull 提示 no tracking information，则说明本地分支和远程分支的链接关系没有创建，用命令<code>git branch --set-upstream-to &lt;branch-name&gt; origin/&lt;branch-name&gt;</code>；</li>
</ul>

<h3 id="多个-ssh-key-管理">多个 SSH Key 管理</h3>

<ol>
<li>生成 SSH Key 时，对文件进行命名。</li>
<li>检查是否有已配置的代理 <code>ssh-add -l</code></li>
<li>运行私钥管理器 <code>exec ssh-agent bash</code></li>
<li>添加私钥 <code>ssh-add ~/.ssh/id_rsa_XXX</code></li>
<li>在 github 添加公钥</li>

<li><p>创建配置文件 <code>touch ~/.ssh/config</code></p>

<pre><code># 默认的github用户 OrionPax19970905
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa_OrionPax19970905
user OrionPax19970905

# ZQianlvT
Host github.zqt.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_rsa
user ZQianlvT

#Host                          #配置别名
#HostName                      #这个是真实的域名地址
#IdentityFile                  #这里是id_rsa的地址
#PreferredAuthentications      #配置登录时用什么权限认证--可设置publickey,password publickey,keyboard-interactive等
#User                          #配置使用用户名
</code></pre></li>

<li><p>测试</p>

<pre><code>ssh -T git@github.com          #测试OrionPax19970905
ssh -T git@github.zqt.com      #测试ZQianlvT
</code></pre></li>
</ol>

<h3 id="在-github-上搜索感兴趣的项目">在 GitHub 上搜索感兴趣的项目</h3>

<p><a href="https://help.github.com/articles/understanding-the-search-syntax/">基础语法</a>
<a href="https://github.com/search/advanced">高级搜索页面</a></p>

<h2 id="参考">参考</h2>

<blockquote>
<p><a href="https://www.jianshu.com/p/a3b4f61d4747">SSH Key 管理</a><br />
<a href="https://www.liaoxuefeng.com/wiki/896043488029600">廖雪峰的 Git 教程</a><br />
<a href="https://segmentfault.com/a/1190000017053187">图解 Git 工作区、暂存区、版本库之间的关系</a></p>
</blockquote>
</div>
        <div class="post_footer">
          
          <div class="meta">
            <div class="info">
              <span class="field tags">
                <i class="remixicon-stack-line"></i>
                
                <a href="http://blog.orionpax.top/tags/%E9%80%9A%E7%94%A8/">通用</a>
                
                <a href="http://blog.orionpax.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
                
                <a href="http://blog.orionpax.top/tags/git/">Git</a>
                
              </span>
            </div>
          </div>
          
        </div>
      </div>
      
      
      
<div class="doc_comments">
  <div class="comments_block_title">发表评论</div>
  <div id="vcomments"></div>
</div>

<link rel="stylesheet" href="http://blog.orionpax.top/css/comments.css"/>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>

<script type="text/javascript">
new Valine({
  el: '#vcomments',
  appId: 'nW05u87yweVedDRhj6AUgzR1-gzGzoHsz',
  appKey: '4HgKbiggTv7ocU789S5WO6ov',
  placeholder: '确定不说点什么?',
  visitor: 'true',
})
</script>

      
    </div>
  </div>
  <a id="back_to_top" href="#" class="back_to_top"><span>△</span></a>
</div>
<footer class="footer">
  <div class="powered_by">
    <a href="https://zeuk.me">Designed by Zeuk,</a>
    <a href="http://www.gohugo.io/">Proudly published with Hugo</a>
  </div>

  <div class="footer_slogan">
    <span>不能记住过去的人，被判重复过去。</span>
  </div>
</footer>



<script src="http://blog.orionpax.top/js/jquery-3.3.1.min.js"></script>
<script src="http://blog.orionpax.top/js/zozo.js"></script>
<script src="http://blog.orionpax.top/js/highlight.pack.js"></script>
<link  href="http://blog.orionpax.top/css/fancybox.min.css" rel="stylesheet">
<script src="http://blog.orionpax.top/js/fancybox.min.js"></script>

<script>hljs.initHighlightingOnLoad()</script>


  <script type="text/javascript" async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>






</body>
</html>
